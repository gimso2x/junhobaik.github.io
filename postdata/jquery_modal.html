<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>jquery_modal</title>
    <link rel="stylesheet" href="https://gimso2x.github.io/wiki/postdata/reset.css">
    <style>
        .dim_layerpop { display: none; position: fixed; _position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; }
        .dim_layerpop .dimBg_layerpop { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; opacity: .5; filter: alpha(opacity=50); }

        .pop-layer {
          display: none;
          position: absolute;
          top: 50%;
          left: 50%;
          width: 350px;
          height: auto;
          background-color: #fff;
          border: 1px solid #3a3f4c;
          z-index: 10;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            // 레이어 팝업
            $('.pop_button').click(function() {
                var $href = $(this).attr('href');
                layer_popup($href);
                $('body').css({
                    overflow: 'hidden'
                });

            });

            function layer_popup(el) {
                var $el = $(el); //레이어의 id를 $el 변수에 저장
                $('.dim_layerpop').fadeIn();
                $el.fadeIn();

                var $elWidth = $el.outerWidth(),
                    $elHeight = $el.outerHeight(),
                    docWidth = $(document).width(),
                    docHeight = $(document).height();

                // 화면의 중앙에 레이어를 띄운다.
                if ($elHeight < docHeight || $elWidth < docWidth) {
                    $el.css({
                        marginTop: -$elHeight / 2,
                        marginLeft: -$elWidth / 2
                    })
                } else {
                    $el.css({
                        top: 0,
                        left: 0
                    });
                }

                $el.find('.btn_close').click(function() {
                    pop_close();
                });

                $('.dim_layerpop .dimBg_layerpop').click(function() {
                    pop_close();
                });

                function pop_close(){
                    $('.dim_layerpop').fadeOut();
                    $el.fadeOut();
                    $('body').css({ overflow: 'visible' });
                    return false;
                }
            }
        }); // end ready
    </script>
</head>

<body>
    <div class="wrap">
        <a href="#layer" class="pop_button">팝업레이어</a>
        <a href="#layer2" class="pop_button">팝업레이어2</a>
        <a href="#layer3" class="pop_button">팝업레이어3</a>
    </div>

    <!-- 레이어 팝업-->
    <div class="dim_layerpop">
        <div class="dimBg_layerpop"></div>
        <div id="layer" class="pop-layer">
            <div class="pop-container">
                <a href="javascript:void(0);" class="btn_close">닫기</a>
                <div class="pop-header">
                    레이어1 헤더
                </div>
                <div class="pop-conts">
                    레이어1 내용
                </div>
            </div>
        </div>

        <div id="layer2" class="pop-layer">
            <div class="pop-container">
                <a href="javascript:void(0);" class="btn_close">닫기</a>
                <div class="pop-header">
                    레이어2 헤더
                </div>
                <div class="pop-conts">
                    레이어2 내용
                </div>
            </div>
        </div>

        <div id="layer3" class="pop-layer">
            <div class="pop-container">
                <a href="javascript:void(0);" class="btn_close">닫기</a>
                <div class="pop-header">
                    레이어3 헤더
                </div>
                <div class="pop-conts">
                    레이어3 내용
                </div>
            </div>
        </div>
    </div>
    <!--// 레이어 팝업-->
</body>

</html>
